---
name: pdf
description: HTML/CSS-first PDF production guidance for professional pentest deliverables with predictable pagination and visual QA.
license: Proprietary. LICENSE.txt has complete terms
---

# PDF Production Guide (HTML-First)

## Default strategy
Use an HTML/CSS render pipeline first. Treat Python canvas-style generation as fallback only.

Preferred order:
1. Author report structure in markdown/data.
2. Build a styled HTML document (`report.html`) with print CSS.
3. Render PDF with a headless browser (`playwright`/Chromium print-to-PDF).
4. Visually QA rendered pages before finalizing.

## Why this default
- Better typography/layout control for long client reports.
- Better tables, cards, grids, and section transitions.
- Easier to iterate visual design than low-level PDF primitives.

## Required outputs for report runs
- `reports/report-render-plan.md` (layout strategy, section mapping, pagination rules)
- `reports/report.html` (final print-ready HTML)
- `reports/report.pdf` (rendered from HTML)

## Render options

### Option A (preferred): Playwright print-to-PDF
```bash
node render-report-pdf.mjs reports/report.html reports/report.pdf
```

Example script behavior:
- load local `file://.../report.html`
- wait for `networkidle`
- print with `format: "A4"`, `printBackground: true`, custom margins

### Option B: Existing local browser automation wrapper
Use whichever project wrapper exists to open the HTML and print to PDF with background graphics enabled.

### Option C (fallback only)
Python-based generation only if HTML rendering is unavailable.

## Print CSS baseline
Use these print rules at minimum:
- `@page { size: A4; margin: 16mm 14mm 16mm 14mm; }`
- `body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }`
- headings and finding cards should avoid orphaned breaks:
  - `break-inside: avoid;`
  - `page-break-inside: avoid;`
- tables:
  - `thead { display: table-header-group; }`
  - `tr { break-inside: avoid; }`

## Long-report structure guidance (100+ pages)
- Front matter: cover, engagement meta, executive snapshot, TOC.
- Main body split by explicit section wrappers with stable IDs.
- Findings rendered as repeatable components (ID/severity/asset/evidence/impact/remediation).
- Appendices separated by page breaks.
- Keep a clear visual system (type scale, spacing scale, severity palette).

## QA checklist before finalizing
- No clipped tables, overlapping text, or broken page breaks.
- Severity badges/colors readable in print.
- TOC entries map to section order.
- Header/footer/page numbers visible and consistent.
- Final PDF opens cleanly and file size is reasonable.
