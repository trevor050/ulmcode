---
name: k12-agent-orchestration-and-quality
description: Coordinate multi-agent K-12 pentest work with clear role boundaries, execution gates, handoffs, and quality scoring. Use when splitting work across agents, running plan-to-execution pipelines, validating agent output reliability, or recovering/continuing interrupted sessions.
---

# K-12 Agent Orchestration And Quality

## Objective
Run multi-agent district assessments with predictable outputs, low rework, and auditable decisions.

## Core Roles
Assign one owner per role. Allow one person to hold multiple roles only when workload is small.

- `orchestrator`: owns plan, dependencies, stop gates, and final merge.
- `recon`: owns asset discovery, external/internal exposure mapping, service inventory.
- `identity`: owns AD/IdP trust analysis and privilege-boundary validation.
- `risk`: maps findings to FERPA/privacy/operational impact.
- `report`: compiles evidence-backed outputs and remediation roadmap.

## Mandatory Artifacts Per Agent
Require these outputs before accepting a subtask as complete.

- `results.md`: decisions, commands, evidence links, unresolved assumptions.
- `evidence/raw/*`: unmodified logs, scanner outputs, packet captures.
- `evidence/processed/*`: normalized tables, parsed summaries, deduped findings.
- `handoff.md`: scope status, blockers, next actions, confidence level.

## Execution Workflow
1. Define mission, constraints, and prohibited actions.
2. Partition work into independent subtasks with explicit owners.
3. Set gates: `GO`, `HOLD`, `STOP` conditions for each phase.
4. Execute low-risk discovery first, then focused validation.
5. Perform quality review before passing to reporting.

## Gate Model
Use explicit gate criteria. Never rely on vague "looks good" approvals.

- `GO`: artifact complete, evidence reproducible, assumptions documented.
- `HOLD`: missing evidence, conflicting results, unclear authorization.
- `STOP`: scope breach risk, service impact, legal/ROE uncertainty.

## Handoff Contract
Use this format for every handoff to avoid context loss.

- `scope`: what was in scope for this run.
- `completed`: exact tasks finished and evidence locations.
- `findings`: concise list with severity and confidence.
- `assumptions`: what was inferred vs verified.
- `blocked_by`: concrete blocker with owner.
- `next_actions`: prioritized next 3 steps.

## Quality Scoring
Score each agent output before merge.

- `reproducibility` (0-2): another operator can repeat and confirm.
- `evidence_quality` (0-2): raw proof exists and maps to claim.
- `scope_safety` (0-2): actions stayed inside authorization.
- `impact_clarity` (0-2): business/FERPA impact is explicit.
- `remediation_usefulness` (0-2): action is specific and feasible.

Treat total score `< 7/10` as rework-required.

## Common Failure Modes
- Merging findings without deduping overlapping evidence.
- Declaring critical issues from single-tool output only.
- Handing off without unresolved assumptions listed.
- Letting report writing start before evidence normalization.

## Recovery Pattern For Interrupted Runs
1. Load latest `handoff.md` and `results.md` from each agent.
2. Rebuild dependency graph from open blockers.
3. Revalidate scope and change windows before resuming.
4. Resume from earliest failed gate, not from memory.

## Output Contract
Produce these sections in orchestrator summary.

- `engagement_status`
- `phase_by_phase_decisions`
- `accepted_findings`
- `rejected_or_deferred_findings`
- `open_risks_and_followups`

## Deep-Dive References
Read these only when needed for specialized details.

- `references/autonomous-agent-patterns.md`
- `references/session-handoff.md`
- `references/agent-evaluation.md`
- `references/security-threat-model.md`
- `references/security-ownership-map.md`
- `references/workflow-automation.md`
